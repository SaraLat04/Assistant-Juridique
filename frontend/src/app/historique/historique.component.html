<div class="history-container">
  <!-- Bouton Nouvelle Conversation -->
  <div class="history-actions">
    <button class="new-chat-btn" (click)="newChat()">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      Nouvelle conversation
    </button>
  </div>

  <!-- Section Historique -->
  <div class="history-section">
    <h3 class="history-title">Historique</h3>
    
    <div class="history-list">
      <!-- Liste des conversations -->
      <div *ngFor="let item of historyItems" 
           class="history-item"
           [class.active]="selectedItemId === item.id"
           (click)="selectItem(item.id)">
        
        <div class="history-item-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
        </div>
        
        <div class="history-item-content">
          <div class="history-item-title">{{ item.title }}</div>
          <div class="history-item-preview">{{ item.preview }}</div>
          <div class="history-item-date">{{ getRelativeTime(item.date) }}</div>
        </div>
        
        <button class="history-item-delete" 
                (click)="deleteItem(item.id, $event)"
                title="Supprimer">
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
        </button>
      </div>

      <!-- Ã‰tat vide -->
      <div *ngIf="historyItems.length === 0" class="empty-history">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <p>Aucune conversation</p>
        <span>Commencez une nouvelle conversation</span>
      </div>
    </div>
  </div>
</div>